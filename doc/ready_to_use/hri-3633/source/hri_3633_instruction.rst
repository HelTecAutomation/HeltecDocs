*************************
Valve control instruction
*************************

{ht_translation}`[简体中文]:[English]`

**This document is still under update, if you have any questions, please contact our official email: support@heltec.cn.**

This document describes the HRI-3633 remote instructions that you can issue on the server.

**The port number is 3.**

1. Check valve status
=====================
+----------------+-------------------+---------------+---------------+
| Description    | Instruction type  | valve 0 state | valve 1 state |
+================+===================+===============+===============+
| Query          | 08                |               |               |
+----------------+-------------------+---------------+---------------+
| Feedback       | 08                | 00            | 01            |
+----------------+-------------------+---------------+---------------+
| Error Feedback | 08                | FF            |               |
+----------------+-------------------+---------------+---------------+

2. Set valve status
===================
+----------------+-------------------+------------------+-------------+
| Description    | Instruction type  | Valve number(0-1) | valve state|
+================+===================+==================+=============+
| Setting        | 09                | 00               | 01          |
+----------------+-------------------+------------------+-------------+
| Feedback       | 09                | 00               | 01          |
+----------------+-------------------+------------------+-------------+
| Error Feedback | 09                | FF               |             |
+----------------+-------------------+------------------+-------------+

3. Query pulse counter
======================
+----------------+-------------------+-------------------+-------------------+
| Description    | Instruction type  | Counter number    | Counter number    |
+================+===================+=======================================+
| Query          | 0A                | (0-2)                                 |
+----------------+-------------------+-------------------+-------------------+
| Feedback       | 0A                | 4byte (counter_0) | 4byte (counter_1) |
+----------------+-------------------+-------------------+-------------------+
| Error Feedback | 0A                | FF                |                   |
+----------------+-------------------+-------------------+-------------------+

**Counter number** : 0=counter_0; 1=counter_1; 2=counter_0 and counter_1

4. Clear pulse counter
======================
+----------------+-------------------+------------------+-----------------+
| Description    | Instruction type  | Counter_0 4byte  | Counter_1 4byte |
+================+===================+==================+=================+
| Clear          | 0B                |                  |                 |
+----------------+-------------------+------------------+-----------------+
| Feedback       | 0B                | 4byte            | 4byte           |
+----------------+-------------------+------------------+-----------------+
| Error Feedback | 0B                | FF               |                 |
+----------------+-------------------+------------------+-----------------+

5. Query valve timing task instructions
=======================================
+----------------+-------------------+--------------------+--------+--------------+-------------+--------+-----------+-----------------+
| Description    | Instruction type  | Instruction number | Enable | action valve | action type | timed  | timed     | The repeat type |
+================+===================+====================+========+==============+=============+========+===========+=================+
| Query          | 0C                | (01~15)            |        |              |             |        |           |                 |
+----------------+-------------------+--------------------+--------+--------------+-------------+--------+-----------+-----------------+
| Feedback       | 0C                | (01~15)            | (0-1)  | (0-2)        | ( 0-1 )     | (hour) | (minutes) | (0x7F)          |
+----------------+-------------------+--------------------+--------+--------------+-------------+--------+-----------+-----------------+
| Error Feedback | 0C                | FF                 |        |              |             |        |           |                 |
+----------------+-------------------+--------------------+--------+--------------+-------------+--------+-----------+-----------------+

5. Set valve timing task instructions
=====================================
+----------------+-------------------+--------------------+--------+--------------+-------------+--------+-----------+-----------------+
| Description    | Instruction type  | Instruction number | Enable | action valve | action type | timed  | timed     | The repeat type |
+================+===================+====================+========+==============+=============+========+===========+=================+
| Set            | 0D                | (01~15)            | (0-1)  | (0-2)        | ( 0-1 )     | (hour) | (minutes) | (0x7F)          |
+----------------+-------------------+--------------------+--------+--------------+-------------+--------+-----------+-----------------+
| Feedback       | 0D                | (01~15)            | (0-1)  | (0-2)        | ( 0-1 )     | (hour) | (minutes) | (0x7F)          |
+----------------+-------------------+--------------------+--------+--------------+-------------+--------+-----------+-----------------+
| Error Feedback | 0D                | FF                 |        |              |             |        |           |                 |
+----------------+-------------------+--------------------+--------+--------------+-------------+--------+-----------+-----------------+