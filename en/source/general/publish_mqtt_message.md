# Publish MQTT Message
[简体中文](https://heltec-automation.readthedocs.io/zh_CN/latest/general/publish_mqtt_message.html)

Before operation, make sure that the gateway and node are connected, and the gateway and node can work normally.

&nbsp;

## MQTT Connect to Cloud Server

- Open "MQTT.fx" and click the Settings button to configure the connection information.

![](img/publish_mqtt_message/01.png)

- Configure related information as shown in the figure below. Among them, "Broker Address" is the address of the server connected by the gateway, "Broker Port" is 1883 by default, and "Client ID" can be randomly generated by clicking "Generate". And configure the login account and password.

![](img/publish_mqtt_message/02.png)

- After the configuration is complete, click "Connect" to connect.

![](img/publish_mqtt_message/03.png)

- After the connection is successful, you can see a green dot on the right.

![](img/publish_mqtt_message/04.png)

&nbsp;

## Publish MQTT Message

- Configure topic information.

  ![](img/publish_mqtt_message/05.png)

  - Among them, "application/4/device/2232330000888809/tx" correspond to "application/[application ID]/device/[DevEUI]/[event type]" respectively.

  ![](img/publish_mqtt_message/08.png)

  ![](img/publish_mqtt_message/09.png)

  - The published data is as follows:

    ```shell
    {
        "fPort": 10,    //Port used(fPort > 0)
        "data": "EjQ="  //Published data
    }
    ```

  - The published data needs to use Base64 encoding. As shown below.

![](img/publish_mqtt_message/06.png)

- After editing the published data, click "Publish", and you can see the published data in the serial port print of the node.

![](img/publish_mqtt_message/07.png)